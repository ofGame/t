<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>双爆配平器</title><script src="https://cdn.tailwindcss.com"></script><script>tailwind.config={darkMode:"class",theme:{extend:{colors:{primary:"#3B82F6",secondary:"#10B981",accent:"#8B5CF6",neutral:"#1F2937","neutral-light":"#F3F4F6"},animation:{"fade-in":"fadeIn 0.5s ease-out forwards"},keyframes:{fadeIn:{"0%":{opacity:"0",transform:"translateY(10px)"},"100%":{opacity:"1",transform:"translateY(0)"}}}}}}</script></head><body><div id="full" class="bg-neutral-light dark:bg-neutral/80"><div class="container mx-auto px-4 py-6 max-w-3xl"><main class="bg-white rounded-xl p-6 md:p-8 shadow-lg shadow-primary/10 hover:shadow-xl hover:shadow-primary/15 transition duration-300 dark:bg-neutral/80"><div class="mb-2"><h2 class="text-xl font-semibold text-neutral mb-6 dark:text-white">基础属性输入 <button id="themeToggle" class="float-right text-sm border border-gray-300 bg-neutral-light dark:bg-neutral/80 dark:border-gray-600 hover:bg-neutral/90 hover:text-white dark:text-white font-medium py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">主题</button></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><div class="mb-4"><label for="EntryW" class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">角色基础攻击（白值）</label> <input type="number" id="EntryW" class="w-full rounded-lg border border-gray-300 py-2 px-4 bg-neutral-light dark:bg-neutral/80 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition duration-200" placeholder="请输入角色基础攻击"></div><div class="mb-4"><label for="EntryG" class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">角色攻击提升值（绿值）</label> <input type="number" id="EntryG" class="w-full rounded-lg border border-gray-300 py-2 px-4 bg-neutral-light dark:bg-neutral/80 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition duration-200" placeholder="请输入角色攻击提升值"></div><div class="mb-4"><label for="ClaimA" class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">伤害模型转换</label> <select id="ClaimA" class="w-full rounded-lg border element-border bg-element-bg py-2 px-4 bg-neutral-light appearance-none dark:bg-neutral/80 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition duration-200"><option value="1">攻击</option><option value="1">生命</option><option value="1.25">防御</option><option value="400" disabled="disabled">精通</option></select></div></div><div><div class="mb-4"><label for="EntryB" class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">暴击率 %</label> <input type="number" id="EntryB" class="w-full rounded-lg border border-gray-300 py-2 px-4 bg-neutral-light dark:bg-neutral/80 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition duration-200" placeholder="请输入暴击率"></div><div class="mb-4"><label for="EntryC" class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">暴击伤害 %</label> <input type="number" id="EntryC" class="w-full rounded-lg border border-gray-300 py-2 px-4 bg-neutral-light dark:bg-neutral/80 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary/50 focus:border-primary transition duration-200" placeholder="请输入暴击伤害"></div><div class="mb-4"><p class="block text-sm font-medium text-gray-700 mb-1 dark:text-white">测试</p><div class="flex justify-between"><button id="randomBtn" class="bg-secondary hover:bg-secondary/90 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105">随机生成数值</button> <button id="clearBtn" class="bg-accent hover:bg-accent/90 text-white font-medium py-2 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">清空</button></div></div></div></div></div><div class="flex justify-center mb-8"><button id="calculateBtn" class="bg-primary hover:bg-primary/90 text-white font-medium py-2 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">计算最优属性分配</button></div><div id="resultsContainer" class="mt-8 mb-8"><h2 class="text-xl font-semibold text-neutral mb-6 dark:text-white">计算结果</h2><div class="bg-neutral-light rounded-lg p-6 dark:bg-neutral/80 dark:text-white"><ul id="ResultsList" class="space-y-3 overflow-hidden transition-all duration-500 max-h-0 opacity-0"></ul></div></div><div><h2 class="text-xl font-semibold text-neutral mb-6 dark:text-white">乘区计算</h2><a href="https://homdgcat.wiki/gi/formulae" class="text-primary font-bold hover:text-accent dark:text-primary/80 dark:hover:text-accent/80">玉衡杯-公式大全</a></div></main><footer class="text-center mt-12 text-gray-500 text-sm dark:text-gray-400"><p>contact©原神UID 226115372</p></footer></div></div><script>const list=document.getElementById("ResultsList");function calculateStats(){const e=parseFloat(document.getElementById("EntryW").value),t=parseFloat(document.getElementById("EntryG").value),n=parseFloat(document.getElementById("EntryB").value)/100,l=parseFloat(document.getElementById("EntryC").value)/100,a=.0583125*document.getElementById("ClaimA").value,o=document.getElementById("ClaimA").options[document.getElementById("ClaimA").selectedIndex].text,s=.038875,c=.07775,d=n/s+l/c+t/e/a,m=Math.sqrt(6)/s-1/a;let u,i,r,E;if(d>7/c-1/a)u=2/c,i=(d+1/a-3/c)/2,r=(d-1/a-1/c)/2,E={text:"大毕业",class:"text-green-600 font-bold"};else if(d>m){const e=d+1/a;u=(e+Math.sqrt(Math.pow(e,2)-6/Math.pow(s,2)))/6,i=u,r=d-2*u,E={text:"小毕业",class:"text-yellow-600 font-bold"}}else u=.05/s,i=.5/c,r=d-u-i,E={text:"不需要双爆",class:"text-red-600 font-bold"};const y=a*r,g=s*u,h=c*i,p=Math.round((y+1)*e),v=(p*(1+g*h)).toFixed(2),I=e=>(100*e).toFixed(1),B=document.createDocumentFragment();[{label:"综合评分:",value:d.toFixed(2)},{label:`${o}加成:`,value:`${I(y)}%`},{label:`总${o}:`,value:p},{label:"暴击率:",value:`${I(g)}%`},{label:"暴击伤害:",value:`${I(h)}%`},{label:"总期望:",value:v},{label:"评价:",value:E.text,customClass:E.class}].forEach(e=>{const t=document.createElement("li");t.className=`flex ${e.customClass||""}`;const n=document.createElement("span");n.className="font-medium w-1/3",n.textContent=e.label;const l=document.createElement("span");l.className="flex-1",l.textContent=e.value,t.appendChild(n),t.appendChild(l),B.appendChild(t)}),list.classList.remove("max-h-0","opacity-0"),list.classList.add("max-h-96","opacity-100"),list.innerHTML="",list.appendChild(B),list.classList.add("animate-fade-in"),setTimeout(()=>list.classList.remove("animate-fade-in"),1e3)}function getRandomValue(e){return Math.ceil((Math.random()+1)*e)}function generateRandomNumbers(){const e=getRandomValue(500),t=getRandomValue(1e3),n=getRandomValue(500),l=getRandomValue(1e3);document.getElementById("EntryW").value=e,document.getElementById("EntryG").value=t,document.getElementById("EntryB").value=n/10,document.getElementById("EntryC").value=l/10,calculateStats()}function clearInputValues(){["EntryW","EntryG","EntryB","EntryC"].forEach(e=>document.getElementById(e).value=""),handleInputFocus()}function clearResults(){list.classList.remove("max-h-96","opacity-100"),list.classList.add("max-h-0","opacity-0"),list.innerHTML=""}function handleInputFocus(){clearResults(),window.scrollTo({top:0,behavior:"smooth"})}function initEventListeners(){const e=document.getElementById("themeToggle"),t=document.body;"dark"===localStorage.getItem("theme")&&t.classList.add("dark"),e.addEventListener("click",()=>{t.classList.toggle("dark"),localStorage.setItem("theme",t.classList.contains("dark")?"dark":"light")});document.querySelectorAll("input, select").forEach(e=>e.addEventListener("focus",handleInputFocus)),document.getElementById("randomBtn").addEventListener("click",generateRandomNumbers),document.getElementById("clearBtn").addEventListener("click",clearInputValues),document.getElementById("calculateBtn").addEventListener("click",()=>{calculateStats(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})});const n=document.getElementById("ClaimA"),l=document.querySelector('label[for="EntryW"]'),a=document.querySelector('label[for="EntryG"]'),o=document.getElementById("EntryW"),s=document.getElementById("EntryG");n.addEventListener("change",function(){const e=this.options[this.selectedIndex].text;l.textContent=`角色基础${e}（白值）`,a.textContent=`角色${e}提升值（绿值）`,o.placeholder=`请输入角色基础${e}`,s.placeholder=`请输入角色${e}提升值`})}document.addEventListener("DOMContentLoaded",initEventListeners)</script></body></html>